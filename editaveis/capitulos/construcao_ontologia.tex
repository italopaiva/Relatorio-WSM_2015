\chapter{Construção da ontologia}
  
  Este capítulo apresenta detalhes da construção da ontologia proposta.

  \section{Metodologia utilizada para construção}
    
      A partir da análise conceitual dos métodos e metodologias para construção de ontologias abordados neste trabalho, 
      o método escolhido para a realização deste projeto, levando em conta as etapas/fases propostas por cada uma dessas 
      metodologias ou métodos no que tange ao processo de construção de ontologias, foi o método \textit{\textbf{Ontology 101}}.
  
      Os aspectos observados na escolha do método foram: \textbf{a)} suporte literário bem consolidado e disponível 
      (livros, artigos, guias e etc); \textbf{b)} o método é baseado na literatura do paradigma orientado a objetos;
      \textbf{c)} familiarização por parte dos integrantes do grupo com os conceitos e processos propostos pelo método.
    
  \section{Escopo da ontologia}
      
      A ontologia proposta neste trabalho será utilizada para o contexto de acidentes de veículos ocorridos em rodovias
      federais brasileiras, portanto, alguns conceitos inerentes a outros tipos de acidentes não se aplicam a este 
      contexto. Por esse motivo, os modelos conceituais das ontologias encontradas foram analisados e utilizados como base 
      para a construção da ontologia final.
      
      Para este trabalho, é esperado apenas uma ontologia capaz de oferecer um arcabouço mais semântico para o \textit{software} 
      "Pé na Estrada", de modo a provocar mudanças iniciais significativas no \textit{software}.
      Para trabalhos futuros, pretende-se utilizar ontologias específicas para as entidades como Pessoa, Veículo, Rodovia e
      Hospital para aumentar a representatividade da ontologia, 
      além de incluir atributos mais específicos para cada classe.
  
  \vfill
  \pagebreak
  \section{Ontologias encontradas}
   
      \input{editaveis/capitulos/ontologias_acidentes}
      
  \vfill
  \pagebreak
  \section{Estrutura da ontologia}

      Com a escolha da metodologia 101 a primeira etapa consiste na definição de classes na ontologia.
      Para essa definição foi realizada uma técnica chamada \textit{CardSorting}. A Figura \ref{fig:card_sorting} 
      ilustra os conceitos levantados pela equipe com a técnica \textit{CardSorting}.
      
      \begin{figure}[!htb]
	\centering
	\includegraphics[scale = 0.1]{card_sorting}
	\caption[Conceitos levantados com o \textit{CardSorting}]{Conceitos levantados com o \textit{CardSorting}}
	\label{fig:card_sorting}
      \end{figure}
      
      Essa técnica consiste na escrita de termos em cartões que representem a interação do usuário com a aplicação,
      quais seriam as perguntas que ele faria ao sistema, o que ele procuraria. Dessa forma, pensando como usuário
      da aplicação foi realizado um levantamento de termos.

      A partir do levantamento dos principais termos, foi realizado um mapa conceitual inicial com o intuito
      de organizar as classes em uma hierarquia e para identificar seus relacionamentos, que consiste na segunda
      etapa da construção.

      \subsection{Classes e Propriedades}
      
	  Como não foi possível encontrar o código OWL das ontologias pesquisadas, a equipe decidiu aproveitar a
	  modelagem conceitual feita nos trabalhos encontrados. A partir desses modelos, foi construído o modelo 
	  para a ontologia, ilustrado na Figura \ref{fig:modelo_conceitual_ontologia}.
	  
	  Após a elaboração do mapa conceitual inicial as propriedades entre as classes foram definidas e as ontologias
	  encontradas foram utilizadas. 
	  Na tabela \ref{tab:classes} está a lista de classes e as propriedades que elas possuem.      

	  \begin{table*}[!h]
	  \centering
	  \begin{tabular}{p{0.2\linewidth}p{0.20\linewidth}p{0.20\linewidth}}
	    \hline
	    \textbf{Classe} & \textbf{Propriedade} & \textbf{Objeto (Classe)}\\
	    \hline
	      Acidente & tem\_tipo & TipoAcidente\\
		& tem\_causa & Causa\\
		& ocorre & Local\\
		& envolve & Veiculo\\
	    \hline
	      Veículo & esta\_envolvido & Acidente\\
		& tem\_ocupante & Ocupante\\
	    \hline
	      Ocupante & viaja\_em & Veiculo\\
		& motorista & Veiculo\\
		& proprietario & Veiculo\\
		& atendido\_em & Hospital\\
	    \hline
	      Local & tem\_acidente & Acidente\\
		& esta\_contido & Rodovia\\
	    \hline
	      Rodovia & tem\_estatistica & Estatistica\\
		& contem & Local\\
		& tem\_postos\_prf & PostosPRF\\
		& tem\_hospital & Hospital\\
		& tem\_assistencia & AssistenciaTecnica\\
	    \hline
	      Estatística & acerca & Rodovia\\
	    \hline
	      Causa & - & -\\
	    \hline
	      TipoAcidente & - & -\\
	    \hline
	      PostoPRF & - & -\\
	    \hline
	      AssistenciaTecnica & - & -\\
	    \hline
	      Hospital & - & -\\
	    \hline
	  \end{tabular}
	  \caption{Classes e Propriedades}
	  \label{tab:classes}
	  \end{table*}
	  
	  Os relacionamentos entre as classes podem ser vistos melhor no modelo conceitual da ontologia ilustrado na
	  Figura \ref{fig:modelo_conceitual_ontologia}.
	  
	  \vfill
	  \pagebreak
	  \begin{figure}[!h]
	    \centering
	    \includegraphics[scale = 0.4]{modelo_conceitual_ontologia.png}
	    \caption[Modelo conceitual ideal da ontologia]{Modelo conceitual ideal da ontologia a ser construída}
	    \label{fig:modelo_conceitual_ontologia}
	  \end{figure}
	  
	  O modelo conceitual apresentado se assemelha bastante com o padrão do grafo final que se obteria com a construção da
	  ontologia.
      
      \vfill
      \pagebreak
      \subsection{Atributos das classes}
	
	  Apesar de não estar descrito no modelo conceitual apresentado, por questão de organização, as classes levantadas
	  possuem atributos importantes que serão descritos nesse tópico.
	  
	  Para a definição dos atributos das classes foram considerados alguns atributos definidos no modelo de dados atual
	  da PRF.
	  
	  \input{editaveis/capitulos/atributos_classes}
      
%       \pagebreak
%       \subsection{Modelagem da ontologia no Protégé}
%       
% 	As classes e propriedades definidas foram modeladas na ferramenta Protégé \footnotemark[2],
% 	de acordo com o modelo conceitual final	apresentado na Figura \ref{fig:modelo_conceitual_ontologia}.
% 	\footnotetext[2]{http://protege.stanford.edu/}
% 	
% 	As Figuras \ref{fig:classes_protege} e \ref{fig:propriedades_protege} apresentam, respectivamente, as classes e
% 	as propriedades que foram modeladas no Protégé.
% 	
% 	\begin{figure}[!htb]
% 	  \centering
% 	  \includegraphics[scale = 0.55]{classes_wsm}
% 	  \caption[Classes modeladas no Protégé]{Classes modeladas no Protégé.}
% 	  \label{fig:classes_protege}
% 	\end{figure}
% 	
% 	\begin{figure}[!htb]
% 	  \centering
% 	  \includegraphics[scale = 0.6]{propriedades_classes_wsm}
% 	  \caption[Propriedades das classes modeladas no Protégé]{Propriedades das classes modeladas no Protégé.}
% 	  \label{fig:propriedades_protege}
% 	\end{figure}
% 	
%       \pagebreak
%       \input{editaveis/capitulos/cronograma_construcao_ontologia}
